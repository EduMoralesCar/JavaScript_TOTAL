<h2 class="text-center my-4 text-primary">Boleta de Venta</h2>

<!-- Formulario con Labels -->
<div class="container mb-4">
  <div class="row g-3">
    <div class="col-md-3">
      <label class="form-label text-muted fw-bold">Cliente</label>
      <input type="text" class="form-control" placeholder="Ej: Juan PÃ©rez" [(ngModel)]="nombreCliente">
    </div>
    <div class="col-md-3">
      <label class="form-label text-muted fw-bold">Producto</label>
      <input type="text" class="form-control" placeholder="Ej: Arroz" [(ngModel)]="nombreProducto">
    </div>
    <div class="col-md-2">
      <label class="form-label text-muted fw-bold">Cantidad</label>
      <input type="number" class="form-control" placeholder="1" [(ngModel)]="cantidad" min="1">
    </div>
    <div class="col-md-2">
      <label class="form-label text-muted fw-bold">Precio (S/)</label>
      <input type="number" class="form-control" placeholder="0" [(ngModel)]="precioUnitario" step="0.01" min="0">
    </div>
    <div class="col-md-2 d-flex align-items-end">
      <button type="button" (click)="agregar()" class="btn btn-success w-100">
        <i class="fas fa-plus"></i> Agregar
      </button>
    </div>
  </div>
</div>

<hr>

<!-- Detalle de la Boleta -->
<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Cliente</th>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <td>{{ item.nombreCliente }}</td>
        <td>{{ item.nombreProducto }}</td>
        <td>{{ item.cantidad }}</td>
        <td>{{ item.precioUnitario | currency: 'S/ ' }}</td>
        <td>{{ (item.cantidad * item.precioUnitario).toFixed(2) | currency: 'S/ ' }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Resumen -->
<div class="row justify-content-end">
  <div class="col-md-4">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title text-center">Resumen</h5>
        <hr>
        <!-- Total -->
        <div class="d-flex justify-content-between">
          <strong>Subtotal:</strong>
          <span>{{ calcularTotal().toFixed(2) | currency: 'S/ ' }}</span>
        </div>
        <!-- IGV -->
        <div class="d-flex justify-content-between">
          <strong>IGV (18%):</strong>
          <span>{{ calcularIGV().toFixed(2) | currency: 'S/ ' }}</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between fs-5">
          <strong>Total:</strong>
          <strong class="text-success">{{ (calcularTotal() + calcularIGV()).toFixed(2) | currency: 'S/ ' }}</strong>
        </div>
      </div>
    </div>
  </div>
</div>